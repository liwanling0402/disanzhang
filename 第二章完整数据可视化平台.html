<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬äºŒç« å®Œæ•´æ•°æ®å¯è§†åŒ–å¹³å°</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white; min-height: 100vh; padding: 20px;
        }
        .container { max-width: 1600px; margin: 0 auto; }
        header { 
            text-align: center; margin-bottom: 30px; padding: 25px;
            background: rgba(255,255,255,0.1); border-radius: 15px;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);
        }
        h1 { 
            font-size: 2.2rem; margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .chapter-info { 
            max-width: 900px; margin: 0 auto; line-height: 1.6; opacity: 0.9;
        }
        .dashboard { display: grid; grid-template-columns: 280px 1fr; gap: 25px; }
        .sidebar { 
            background: rgba(255,255,255,0.1); border-radius: 12px; padding: 20px;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);
            height: fit-content; max-height: 80vh; overflow-y: auto;
        }
        .main-content { 
            background: rgba(255,255,255,0.1); border-radius: 12px; padding: 25px;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);
        }
        .section-title { 
            font-size: 1.3rem; margin-bottom: 15px; color: #4ecdc4;
            border-bottom: 2px solid rgba(78,205,196,0.3); padding-bottom: 8px;
        }
        .dataset-category { margin-bottom: 20px; }
        .category-title { 
            font-size: 1.1rem; margin-bottom: 10px; color: #ff6b6b;
            padding: 5px 10px; background: rgba(255,107,107,0.1); border-radius: 5px;
        }
        .dataset-card { 
            background: rgba(255,255,255,0.15); border-radius: 8px; padding: 12px;
            margin-bottom: 8px; cursor: pointer; transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        .dataset-card:hover { transform: translateY(-2px); background: rgba(255,255,255,0.2); }
        .dataset-card.active { border: 2px solid #4ecdc4; background: rgba(78,205,196,0.1); }
        .dataset-title { font-weight: bold; margin-bottom: 5px; }
        .dataset-desc { font-size: 0.8rem; opacity: 0.8; }
        .chart-header { margin-bottom: 20px; }
        .chart-controls { 
            display: flex; gap: 8px; margin: 15px 0; flex-wrap: wrap;
            background: rgba(0,0,0,0.2); padding: 12px; border-radius: 8px;
        }
        .chart-type-btn { 
            padding: 6px 12px; border: 1px solid #4ecdc4; background: transparent;
            color: #4ecdc4; border-radius: 4px; cursor: pointer; transition: all 0.3s;
            font-size: 0.85rem;
        }
        .chart-type-btn:hover { background: rgba(78,205,196,0.1); }
        .chart-type-btn.active { background: #4ecdc4; color: #1e3c72; }
        .chart-container { 
            background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px;
            margin-bottom: 20px;
        }
        .chart-wrapper { position: relative; height: 450px; width: 100%; }
        canvas { width: 100% !important; height: 100% !important; }
        .data-info { 
            background: rgba(255,255,255,0.1); border-radius: 6px; padding: 12px;
            font-size: 0.85rem; text-align: center; margin-top: 15px;
        }
        .chart-description { 
            background: rgba(255,255,255,0.05); border-radius: 8px; padding: 15px;
            margin-top: 15px; font-size: 0.9rem; line-height: 1.5;
        }
        .features-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px; margin-top: 25px;
        }
        .feature-card { 
            background: rgba(255,255,255,0.1); border-radius: 8px; padding: 15px;
            text-align: center; border-left: 3px solid #4ecdc4;
        }
        .feature-title { font-weight: bold; margin-bottom: 5px; color: #4ecdc4; }
        @media (max-width: 1024px) { .dashboard { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { 
            .chart-controls { justify-content: center; }
            h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ç¬¬äºŒç« å®Œæ•´æ•°æ®å¯è§†åŒ–å¹³å°</h1>
            <p class="chapter-info">åŸºäºã€Šæ•°æ®å¯è§†åŒ–ã€‹ç¬¬äºŒç« 10ç§åŸºç¡€å›¾è¡¨ç±»å‹çš„å®Œæ•´äº¤äº’å¼å±•ç¤ºå¹³å°ï¼ŒåŒ…å«æ‰€æœ‰æ•™å­¦å®ä¾‹æ•°æ®</p>
        </header>
        
        <div class="dashboard">
            <div class="sidebar">
                <h3 class="section-title">ğŸ“š ç¬¬äºŒç« å›¾è¡¨ç±»å‹</h3>
                
                <div class="dataset-category">
                    <div class="category-title">ğŸ“ˆ æŠ˜çº¿å›¾ (2.1)</div>
                    <div class="dataset-card" data-key="temperatureData">
                        <div class="dataset-title">æœªæ¥15å¤©æ°”æ¸©è¶‹åŠ¿</div>
                        <div class="dataset-desc">æœ€é«˜æ°”æ¸©å’Œæœ€ä½æ°”æ¸©å˜åŒ–è¶‹åŠ¿</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">ğŸ“Š æŸ±å½¢å›¾ (2.2)</div>
                    <div class="dataset-card" data-key="alibabaGMVData">
                        <div class="dataset-title">é˜¿é‡Œå·´å·´GMVç»Ÿè®¡</div>
                        <div class="dataset-desc">2013-2019è´¢å¹´GMVå¢é•¿è¶‹åŠ¿</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">ğŸ“‹ æ¡å½¢å›¾ (2.3)</div>
                    <div class="dataset-card" data-key="shoppingRateData">
                        <div class="dataset-title">ç½‘è´­æ›¿ä»£ç‡</div>
                        <div class="dataset-desc">å„å•†å“ç§ç±»ç½‘è´­æ›¿ä»£ç‡å¯¹æ¯”</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">ğŸŸ¦ é¢ç§¯å›¾ (2.4)</div>
                    <div class="dataset-card" data-key="logisticsData">
                        <div class="dataset-title">ç‰©æµè´¹ç”¨ç»Ÿè®¡</div>
                        <div class="dataset-desc">ä¸‰å®¶ç‰©æµå…¬å¸å„æœˆè´¹ç”¨</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">ğŸ“Š ç›´æ–¹å›¾ (2.5)</div>
                    <div class="dataset-card" data-key="histogramData">
                        <div class="dataset-title">äººè„¸è¯†åˆ«ç°åº¦ç›´æ–¹å›¾</div>
                        <div class="dataset-desc">10000ä¸ªéšæœºæ•°çš„åˆ†å¸ƒ</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">ğŸ¥§ é¥¼å›¾ (2.6)</div>
                    <div class="dataset-card" data-key="alipayData">
                        <div class="dataset-title">æ”¯ä»˜å®æœˆè´¦å•</div>
                        <div class="dataset-desc">å„ç±»æ¶ˆè´¹å æ¯”åˆ†æ</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">ğŸ”µ æ•£ç‚¹å›¾ (2.7)</div>
                    <div class="dataset-card" data-key="carSpeedData">
                        <div class="dataset-title">æ±½è½¦åˆ¶åŠ¨è·ç¦»</div>
                        <div class="dataset-desc">é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»å…³ç³»</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">ğŸ“¦ ç®±å½¢å›¾ (2.8)</div>
                    <div class="dataset-card" data-key="powerGenerationData">
                        <div class="dataset-title">å…¨å›½å‘ç”µé‡ç»Ÿè®¡</div>
                        <div class="dataset-desc">2017-2018å¹´å‘ç”µé‡å¯¹æ¯”</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">ğŸ›°ï¸ é›·è¾¾å›¾ (2.9)</div>
                    <div class="dataset-card" data-key="hollandData">
                        <div class="dataset-title">éœå…°å¾·èŒä¸šæµ‹è¯•</div>
                        <div class="dataset-desc">6ç§èŒä¸šå…´è¶£ç±»å‹åˆ†æ</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">ğŸ“ è¯¯å·®æ£’å›¾ (2.10)</div>
                    <div class="dataset-card" data-key="rootBiomassData">
                        <div class="dataset-title">ç»†æ ¹ç”Ÿç‰©é‡</div>
                        <div class="dataset-desc">4ä¸ªæ ‘ç§ä¸åŒå­£èŠ‚ç»Ÿè®¡</div>
                    </div>
                </div>
            </div>
            
            <div class="main-content">
                <div class="chart-header">
                    <h3 id="chartTitle">è¯·é€‰æ‹©å›¾è¡¨ç±»å‹å¼€å§‹å¯è§†åŒ–</h3>
                    
                    <div class="chart-controls" id="chartControls" style="display:none;">
                        <button class="chart-type-btn active" data-type="line">æŠ˜çº¿å›¾</button>
                        <button class="chart-type-btn" data-type="bar">æŸ±çŠ¶å›¾</button>
                        <button class="chart-type-btn" data-type="pie">é¥¼å›¾</button>
                        <button class="chart-type-btn" data-type="scatter">æ•£ç‚¹å›¾</button>
                        <button class="chart-type-btn" data-type="area">é¢ç§¯å›¾</button>
                        <button class="chart-type-btn" data-type="radar">é›·è¾¾å›¾</button>
                        <button class="chart-type-btn" data-type="box">ç®±å½¢å›¾</button>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-wrapper">
                        <canvas id="mainChart"></canvas>
                    </div>
                    
                    <div class="data-info">
                        <div id="dataInfo">å…± 0 æ¡æ•°æ® | å½“å‰å›¾è¡¨ç±»å‹: æœªé€‰æ‹©</div>
                    </div>
                </div>
                
                <div class="chart-description" id="chartDescription" style="display:none;">
                    <h4>ğŸ“‹ å›¾è¡¨è¯´æ˜</h4>
                    <p id="chartDescText">é€‰æ‹©æ•°æ®é›†åæ˜¾ç¤ºè¯¦ç»†è¯´æ˜</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-title">å®Œæ•´è¦†ç›–</div>
                        <p>åŒ…å«ç¬¬äºŒç« æ‰€æœ‰10ç§åŸºç¡€å›¾è¡¨ç±»å‹</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-title">çœŸå®æ•°æ®</div>
                        <p>åŸºäºæ•™æä¸­çš„å®é™…æ•™å­¦æ¡ˆä¾‹æ•°æ®</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-title">äº¤äº’ä½“éªŒ</div>
                        <p>æ”¯æŒåŠ¨æ€åˆ‡æ¢å›¾è¡¨ç±»å‹å’Œæ•°æ®é›†</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-title">å“åº”å¼è®¾è®¡</div>
                        <p>é€‚é…å„ç§è®¾å¤‡å±å¹•å°ºå¯¸</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ç¬¬äºŒç« å®Œæ•´æ•°æ®é›† - ç¬¬ä¸€éƒ¨åˆ†
        const chapter2Data = {
            // 2.1 æŠ˜çº¿å›¾ - æœªæ¥15å¤©æ°”æ¸©è¶‹åŠ¿
            temperatureData: {
                title: 'æœªæ¥15å¤©æœ€é«˜æ°”æ¸©å’Œæœ€ä½æ°”æ¸©',
                description: 'å±•ç¤ºæœªæ¥15å¤©çš„æœ€é«˜æ°”æ¸©å’Œæœ€ä½æ°”æ¸©å˜åŒ–è¶‹åŠ¿',
                chartDescription: 'æŠ˜çº¿å›¾é€‚åˆå±•ç¤ºè¿ç»­æ•°æ®çš„å˜åŒ–è¶‹åŠ¿ï¼Œå¯ä»¥æ¸…æ™°çœ‹åˆ°æ°”æ¸©çš„æ³¢åŠ¨è§„å¾‹å’Œæå€¼ç‚¹ã€‚',
                data: [
                    { day: 'ç¬¬1å¤©', maxTemp: 32, minTemp: 19 },
                    { day: 'ç¬¬2å¤©', maxTemp: 33, minTemp: 19 },
                    { day: 'ç¬¬3å¤©', maxTemp: 34, minTemp: 20 },
                    { day: 'ç¬¬4å¤©', maxTemp: 34, minTemp: 22 },
                    { day: 'ç¬¬5å¤©', maxTemp: 33, minTemp: 22 },
                    { day: 'ç¬¬6å¤©', maxTemp: 31, minTemp: 21 },
                    { day: 'ç¬¬7å¤©', maxTemp: 30, minTemp: 22 },
                    { day: 'ç¬¬8å¤©', maxTemp: 29, minTemp: 16 },
                    { day: 'ç¬¬9å¤©', maxTemp: 30, minTemp: 18 },
                    { day: 'ç¬¬10å¤©', maxTemp: 29, minTemp: 18 },
                    { day: 'ç¬¬11å¤©', maxTemp: 26, minTemp: 17 },
                    { day: 'ç¬¬12å¤©', maxTemp: 23, minTemp: 14 },
                    { day: 'ç¬¬13å¤©', maxTemp: 21, minTemp: 15 },
                    { day: 'ç¬¬14å¤©', maxTemp: 25, minTemp: 16 },
                    { day: 'ç¬¬15å¤©', maxTemp: 31, minTemp: 16 }
                ]
            },
            
            // 2.2 æŸ±å½¢å›¾ - é˜¿é‡Œå·´å·´GMVç»Ÿè®¡
            alibabaGMVData: {
                title: '2013-2019è´¢å¹´é˜¿é‡Œå·´å·´GMV',
                description: 'å±•ç¤º2013-2019è´¢å¹´é˜¿é‡Œå·´å·´æ·˜å®å’Œå¤©çŒ«å¹³å°GMVçš„å¢é•¿è¶‹åŠ¿',
                chartDescription: 'æŸ±çŠ¶å›¾é€‚åˆæ¯”è¾ƒä¸åŒå¹´ä»½çš„æ•°å€¼å¤§å°ï¼Œå¯ä»¥ç›´è§‚çœ‹åˆ°GMVçš„å¿«é€Ÿå¢é•¿è¶‹åŠ¿ã€‚',
                data: [
                    { year: '2013', gmv: 10770 },
                    { year: '2014', gmv: 16780 },
                    { year: '2015', gmv: 24440 },
                    { year: '2016', gmv: 30920 },
                    { year: '2017', gmv: 37670 },
                    { year: '2018', gmv: 48200 },
                    { year: '2019', gmv: 57270 }
                ]
            },
            
            // 2.3 æ¡å½¢å›¾ - ç½‘è´­æ›¿ä»£ç‡
            shoppingRateData: {
                title: 'å„å•†å“ç§ç±»ç½‘è´­æ›¿ä»£ç‡',
                description: 'å±•ç¤ºä¸åŒå•†å“ç§ç±»åœ¨ç½‘è´­ä¸­çš„æ›¿ä»£ç‡å¯¹æ¯”',
                chartDescription: 'æ¡å½¢å›¾é€‚åˆæ¨ªå‘æ¯”è¾ƒåˆ†ç±»æ•°æ®çš„å¤§å°ï¼Œå¯ä»¥æ¸…æ™°çœ‹åˆ°ä¸åŒå•†å“ç§ç±»çš„ç½‘è´­æ™®åŠç¨‹åº¦ã€‚',
                data: [
                    { category: 'å®¶æ”¿æœåŠ¡', rate: 0.959 },
                    { category: 'æœºç¥¨ç«è½¦ç¥¨', rate: 0.951 },
                    { category: 'å®¶å…·', rate: 0.935 },
                    { category: 'æ‰‹æœºé…ä»¶', rate: 0.924 },
                    { category: 'è®¡ç®—æœºäº§å“', rate: 0.893 },
                    { category: 'æ±½è½¦ç”¨å“', rate: 0.892 },
                    { category: 'é€šä¿¡å……å€¼', rate: 0.865 }
                ]
            },
            
            // 2.4 é¢ç§¯å›¾ - ç‰©æµè´¹ç”¨ç»Ÿè®¡
            logisticsData: {
                title: 'ç‰©æµå…¬å¸è´¹ç”¨ç»Ÿè®¡',
                description: 'å±•ç¤ºä¸‰å®¶ç‰©æµå…¬å¸å„æœˆçš„ç‰©æµè´¹ç”¨ç»Ÿè®¡',
                chartDescription: 'é¢ç§¯å›¾é€‚åˆå±•ç¤ºå¤šç»„æ•°æ®çš„ç´¯ç§¯æ•ˆæœï¼Œå¯ä»¥æ¯”è¾ƒä¸åŒå…¬å¸çš„è´¹ç”¨è¶‹åŠ¿å’Œæ€»é‡ã€‚',
                data: [
                    { month: '1æœˆ', companyA: 198, companyB: 203, companyC: 185 },
                    { month: '2æœˆ', companyA: 215, companyB: 236, companyC: 205 },
                    { month: '3æœˆ', companyA: 245, companyB: 200, companyC: 226 },
                    { month: '4æœˆ', companyA: 222, companyB: 236, companyC: 199 },
                    { month: '5æœˆ', companyA: 200, companyB: 269, companyC: 238 },
                    { month: '6æœˆ', companyA: 236, companyB: 216, companyC: 200 },
                    { month: '7æœˆ', companyA: 201, companyB: 298, companyC: 250 },
                    { month: '8æœˆ', companyA: 253, companyB: 333, companyC: 209 },
                    { month: '9æœˆ', companyA: 236, companyB: 301, companyC: 246 },
                    { month: '10æœˆ', companyA: 200, companyB: 349, companyC: 219 },
                    { month: '11æœˆ', companyA: 266, companyB: 360, companyC: 253 },
                    { month: '12æœˆ', companyA: 290, companyB: 368, companyC: 288 }
                ]
            },
            
            // 2.5 ç›´æ–¹å›¾ - äººè„¸è¯†åˆ«ç°åº¦ç›´æ–¹å›¾
            histogramData: {
                title: 'äººè„¸è¯†åˆ«ç°åº¦ç›´æ–¹å›¾',
                description: 'å±•ç¤º10000ä¸ªéšæœºæ•°çš„åˆ†å¸ƒæƒ…å†µ',
                chartDescription: 'ç›´æ–¹å›¾é€‚åˆå±•ç¤ºæ•°æ®çš„åˆ†å¸ƒæƒ…å†µï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®çš„é›†ä¸­è¶‹åŠ¿å’Œç¦»æ•£ç¨‹åº¦ã€‚',
                data: Array.from({length: 25}, (_, i) => ({
                    bin: `åŒºé—´${i+1}`,
                    value: Math.floor(Math.random() * 500) + 200
                }))
            },
            
            // 2.6 é¥¼å›¾ - æ”¯ä»˜å®æœˆè´¦å•
            alipayData: {
                title: 'æ”¯ä»˜å®æœˆè´¦å•æŠ¥å‘Š',
                description: 'å±•ç¤ºæ”¯ä»˜å®æœˆè´¦å•ä¸­å„ç±»æ¶ˆè´¹çš„å æ¯”æƒ…å†µ',
                chartDescription: 'é¥¼å›¾é€‚åˆæ˜¾ç¤ºå„éƒ¨åˆ†å æ•´ä½“çš„æ¯”ä¾‹å…³ç³»ï¼Œå¯ä»¥æ¸…æ™°çœ‹åˆ°ä¸åŒæ¶ˆè´¹ç±»åˆ«çš„å æ¯”ã€‚',
                data: [
                    { category: 'è´­ç‰©', amount: 800, percentage: 26.7 },
                    { category: 'äººæƒ…å¾€æ¥', amount: 100, percentage: 3.3 },
                    { category: 'é¤é¥®ç¾é£Ÿ', amount: 1000, percentage: 33.3 },
                    { category: 'é€šä¿¡ç‰©æµ', amount: 200, percentage: 6.7 },
                    { category: 'ç”Ÿæ´»æ—¥ç”¨', amount: 300, percentage: 10.0 },
                    { category: 'äº¤é€šå‡ºè¡Œ', amount: 200, percentage: 6.7 },
                    { category: 'ä¼‘é—²å¨±ä¹', amount: 200, percentage: 6.7 },
                    { category: 'å…¶ä»–', amount: 200, percentage: 6.7 }
                ]
            },
            
            // 2.7 æ•£ç‚¹å›¾ - æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»
            carSpeedData: {
                title: 'æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»',
                description: 'å±•ç¤ºæ±½è½¦åœ¨ä¸åŒé€Ÿåº¦ä¸‹çš„åˆ¶åŠ¨è·ç¦»å…³ç³»',
                chartDescription: 'æ•£ç‚¹å›¾é€‚åˆåˆ†æä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œå¯ä»¥æ¸…æ¥šçœ‹åˆ°é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»çš„æ­£ç›¸å…³å…³ç³»ã€‚',
                data: [
                    { speed: 10, distance: 0.5 },
                    { speed: 20, distance: 2.0 },
                    { speed: 30, distance: 4.4 },
                    { speed: 40, distance: 7.9 },
                    { speed: 50, distance: 12.3 },
                    { speed: 60, distance: 17.7 },
                    { speed: 70, distance: 24.1 },
                    { speed: 80, distance: 31.5 },
                    { speed: 90, distance: 39.9 },
                    { speed: 100, distance: 49.2 }
                ]
            },
            
            // 2.8 ç®±å½¢å›¾ - å…¨å›½å‘ç”µé‡ç»Ÿè®¡
            powerGenerationData: {
                title: 'å…¨å›½å‘ç”µé‡ç»Ÿè®¡',
                description: 'å±•ç¤º2017å¹´å’Œ2018å¹´å…¨å›½å„æœˆå‘ç”µé‡å¯¹æ¯”',
                chartDescription: 'ç®±å½¢å›¾é€‚åˆå±•ç¤ºæ•°æ®çš„åˆ†å¸ƒæƒ…å†µï¼Œå¯ä»¥æ¯”è¾ƒä¸åŒå¹´ä»½å‘ç”µé‡çš„ä¸­ä½æ•°ã€å››åˆ†ä½æ•°å’Œå¼‚å¸¸å€¼ã€‚',
                data: [
                    { month: '1æœˆ', year2018: 5200, year2017: 4605 },
                    { month: '2æœˆ', year2018: 5254, year2017: 4710 },
                    { month: '3æœˆ', year2018: 5283, year2017: 5169 },
                    { month: '4æœˆ', year2018: 5107, year2017: 4767 },
                    { month: '5æœˆ', year2018: 5443, year2017: 4947 },
                    { month: '6æœˆ', year2018: 5550, year2017: 5203 },
                    { month: '7æœˆ', year2018: 6400, year2017: 6047 },
                    { month: '8æœˆ', year2018: 6404, year2017: 5945 },
                    { month: '9æœˆ', year2018: 5483, year2017: 5219 },
                    { month: '10æœˆ', year2018: 5330, year2017: 5038 },
                    { month: '11æœˆ', year2018: 5543, year2017: 5196 },
                    { month: '12æœˆ', year2018: 6199, year2017: 5698 }
                ]
            },
            
            // 2.9 é›·è¾¾å›¾ - éœå…°å¾·èŒä¸šå…´è¶£æµ‹è¯•
            hollandData: {
                title: 'éœå…°å¾·èŒä¸šå…´è¶£æµ‹è¯•',
                description: 'å±•ç¤º6ç§èŒä¸šå…´è¶£ç±»å‹çš„æµ‹è¯•ç»“æœ',
                chartDescription: 'é›·è¾¾å›¾é€‚åˆå±•ç¤ºå¤šç»´æ•°æ®çš„ç›¸å¯¹å…³ç³»ï¼Œå¯ä»¥æ¸…æ™°çœ‹åˆ°ä¸åŒèŒä¸šå…´è¶£ç±»å‹çš„ä¼˜åŠ¿é¢†åŸŸã€‚',
                data: [
                    { type: 'ç ”ç©¶å‹(I)', score: 40 },
                    { type: 'è‰ºæœ¯å‹(A)', score: 85 },
                    { type: 'ç¤¾ä¼šå‹(S)', score: 43 },
                    { type: 'ä¼ä¸šå‹(E)', score: 30 },
                    { type: 'ä¼ ç»Ÿå‹(C)', score: 20 },
                    { type: 'ç°å®å‹(R)', score: 34 }
                ]
            },
            
            // 2.10 è¯¯å·®æ£’å›¾ - ç»†æ ¹ç”Ÿç‰©é‡
            rootBiomassData: {
                title: 'ç»†æ ¹ç”Ÿç‰©é‡ç»Ÿè®¡',
                description: 'å±•ç¤º4ä¸ªæ ‘ç§ä¸åŒå­£èŠ‚çš„ç»†æ ¹ç”Ÿç‰©é‡',
                chartDescription: 'è¯¯å·®æ£’å›¾é€‚åˆå±•ç¤ºæ•°æ®çš„æµ‹é‡ç²¾åº¦å’Œå˜å¼‚ç¨‹åº¦ï¼Œå¯ä»¥æ¯”è¾ƒä¸åŒæ¡ä»¶ä¸‹çš„æ•°æ®ç¨³å®šæ€§ã€‚',
                data: [
                    { season: 'æ˜¥å­£', tree1: 2.04, tree2: 1.69, tree3: 4.65, tree4: 3.39 },
                    { season: 'å¤å­£', tree1: 1.57, tree2: 1.61, tree3: 4.99, tree4: 2.33 },
                    { season: 'ç§‹å­£', tree1: 1.63, tree2: 1.64, tree3: 4.94, tree4: 4.10 }
                ]
            }
        };

        let currentChart = null;
        let currentDataset = null;
        let currentChartType = 'line';

        // é¡µé¢åˆå§‹åŒ–
        function initPage() {
            setupDatasetCards();
            setupChartControls();
        }

        // è®¾ç½®æ•°æ®é›†å¡ç‰‡äº‹ä»¶
        function setupDatasetCards() {
            document.querySelectorAll('.dataset-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    const key = e.currentTarget.dataset.key;
                    selectDataset(key, chapter2Data[key]);
                });
            });
        }

        // é€‰æ‹©æ•°æ®é›†
        function selectDataset(key, dataset) {
            currentDataset = { key, ...dataset };
            
            // æ›´æ–°UIçŠ¶æ€
            document.querySelectorAll('.dataset-card').forEach(card => {
                card.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // æ˜¾ç¤ºå›¾è¡¨æ§åˆ¶
            document.getElementById('chartControls').style.display = 'flex';
            document.getElementById('chartTitle').textContent = dataset.title;
            document.getElementById('chartDescription').style.display = 'block';
            document.getElementById('chartDescText').textContent = dataset.chartDescription;
            
            // æ ¹æ®æ•°æ®ç±»å‹è‡ªåŠ¨é€‰æ‹©å›¾è¡¨ç±»å‹
            const autoChartType = getAutoChartType(key);
            currentChartType = autoChartType;
            updateChartTypeButtons();
            
            renderChart();
        }

        // æ ¹æ®æ•°æ®é›†ç±»å‹è‡ªåŠ¨é€‰æ‹©å›¾è¡¨ç±»å‹
        function getAutoChartType(datasetKey) {
            const typeMap = {
                temperatureData: 'line',
                alibabaGMVData: 'bar',
                shoppingRateData: 'bar',
                logisticsData: 'area',
                histogramData: 'bar',
                alipayData: 'pie',
                carSpeedData: 'scatter',
                powerGenerationData: 'box',
                hollandData: 'radar',
                rootBiomassData: 'bar'
            };
            return typeMap[datasetKey] || 'line';
        }

        // è®¾ç½®å›¾è¡¨ç±»å‹æ§åˆ¶
        function setupChartControls() {
            document.querySelectorAll('.chart-type-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    currentChartType = e.target.dataset.type;
                    updateChartTypeButtons();
                    renderChart();
                });
            });
        }

        // æ›´æ–°å›¾è¡¨ç±»å‹æŒ‰é’®çŠ¶æ€
        function updateChartTypeButtons() {
            document.querySelectorAll('.chart-type-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.type === currentChartType);
            });
        }

        // æ¸²æŸ“å›¾è¡¨
        function renderChart() {
            if (!currentDataset) return;
            
            const ctx = document.getElementById('mainChart').getContext('2d');
            
            // é”€æ¯ç°æœ‰å›¾è¡¨
            if (currentChart) {
                currentChart.destroy();
            }
            
            const config = getChartConfig(currentDataset, currentChartType);
            currentChart = new Chart(ctx, config);
            
            updateDataInfo();
        }

        // è·å–å›¾è¡¨é…ç½®
        function getChartConfig(dataset, chartType) {
            const commonConfig = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: 'white',
                            font: { size: 11 }
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleColor: 'white',
                        bodyColor: 'white',
                        borderColor: 'rgba(255, 255, 255, 0.2)',
                        borderWidth: 1
                    }
                }
            };

            switch (chartType) {
                case 'line':
                    return getLineChartConfig(dataset, commonConfig);
                case 'bar':
                    return getBarChartConfig(dataset, commonConfig);
                case 'pie':
                    return getPieChartConfig(dataset, commonConfig);
                case 'scatter':
                    return getScatterChartConfig(dataset, commonConfig);
                case 'area':
                    return getAreaChartConfig(dataset, commonConfig);
                case 'radar':
                    return getRadarChartConfig(dataset, commonConfig);
                case 'box':
                    return getBoxChartConfig(dataset, commonConfig);
                default:
                    return getLineChartConfig(dataset, commonConfig);
            }
        }

        // æŠ˜çº¿å›¾é…ç½®
        function getLineChartConfig(dataset, commonConfig) {
            const labels = dataset.data.map(item => item.day || item.month || item.season);
            const datasets = [];
            
            if (dataset.key === 'temperatureData') {
                datasets.push({
                    label: 'æœ€é«˜æ°”æ¸©',
                    data: dataset.data.map(item => item.maxTemp),
                    borderColor: '#FF6B6B',
                    backgroundColor: 'rgba(255, 107, 107, 0.1)',
                    tension: 0.4,
                    fill: true
                });
                datasets.push({
                    label: 'æœ€ä½æ°”æ¸©',
                    data: dataset.data.map(item => item.minTemp),
                    borderColor: '#4ECDC4',
                    backgroundColor: 'rgba(78, 205, 196, 0.1)',
                    tension: 0.4,
                    fill: true
                });
            } else {
                const numericKeys = Object.keys(dataset.data[0]).filter(key => 
                    typeof dataset.data[0][key] === 'number' && key !== 'rate' && key !== 'percentage'
                );
                
                numericKeys.forEach((key, index) => {
                    const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4'];
                    datasets.push({
                        label: key.includes('company') ? key.replace('company', 'å…¬å¸') : key,
                        data: dataset.data.map(item => item[key]),
                        borderColor: colors[index % colors.length],
                        backgroundColor: colors[index % colors.length] + '20',
                        tension: 0.4
                    });
                });
            }
            
            return {
                ...commonConfig,
                type: 'line',
                data: { labels, datasets },
                options: {
                    ...commonConfig,
                    scales: {
                        x: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        y: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        }
                    }
                }
            };
        }

        // æŸ±çŠ¶å›¾é…ç½®
        function getBarChartConfig(dataset, commonConfig) {
            const labels = dataset.data.map(item => 
                item.year || item.category || item.bin || item.season || item.month
            );
            const datasets = [];
            
            if (dataset.key === 'alibabaGMVData') {
                datasets.push({
                    label: 'GMV (äº¿å…ƒ)',
                    data: dataset.data.map(item => item.gmv),
                    backgroundColor: 'rgba(255, 107, 107, 0.8)',
                    borderColor: '#FF6B6B',
                    borderWidth: 1
                });
            } else if (dataset.key === 'shoppingRateData') {
                datasets.push({
                    label: 'æ›¿ä»£ç‡(%)',
                    data: dataset.data.map(item => item.rate * 100),
                    backgroundColor: 'rgba(78, 205, 196, 0.8)',
                    borderColor: '#4ECDC4',
                    borderWidth: 1
                });
            } else if (dataset.key === 'histogramData') {
                datasets.push({
                    label: 'é¢‘æ•°',
                    data: dataset.data.map(item => item.value),
                    backgroundColor: 'rgba(102, 126, 234, 0.8)',
                    borderColor: '#667eea',
                    borderWidth: 1
                });
            }
            
            return {
                ...commonConfig,
                type: 'bar',
                data: { labels, datasets },
                options: {
                    ...commonConfig,
                    scales: {
                        x: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        y: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        }
                    }
                }
            };
        }

        // é¥¼å›¾é…ç½®
        function getPieChartConfig(dataset, commonConfig) {
            const labels = dataset.data.map(item => item.category);
            const data = dataset.data.map(item => item.amount || item.percentage);
            
            return {
                ...commonConfig,
                type: 'pie',
                data: {
                    labels,
                    datasets: [{
                        data,
                        backgroundColor: [
                            '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7',
                            '#DDA0DD', '#98D8C8', '#F8B195'
                        ],
                        borderWidth: 2,
                        borderColor: 'rgba(255, 255, 255, 0.3)'
                    }]
                }
            };
        }

        // æ•£ç‚¹å›¾é…ç½®
        function getScatterChartConfig(dataset, commonConfig) {
            const data = dataset.data.map(item => ({
                x: item.speed,
                y: item.distance
            }));
            
            return {
                ...commonConfig,
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'é€Ÿåº¦ vs åˆ¶åŠ¨è·ç¦»',
                        data,
                        backgroundColor: 'rgba(78, 205, 196, 0.8)',
                        borderColor: '#4ECDC4',
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    ...commonConfig,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'é€Ÿåº¦ (km/h)',
                                color: 'white'
                            },
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'åˆ¶åŠ¨è·ç¦» (m)',
                                color: 'white'
                            },
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        }
                    }
                }
            };
        }

        // é¢ç§¯å›¾é…ç½®
        function getAreaChartConfig(dataset, commonConfig) {
            const labels = dataset.data.map(item => item.month);
            const datasets = [
                {
                    label: 'å…¬å¸A',
                    data: dataset.data.map(item => item.companyA),
                    backgroundColor: 'rgba(255, 107, 107, 0.3)',
                    borderColor: '#FF6B6B',
                    tension: 0.4,
                    fill: true
                },
                {
                    label: 'å…¬å¸B',
                    data: dataset.data.map(item => item.companyB),
                    backgroundColor: 'rgba(78, 205, 196, 0.3)',
                    borderColor: '#4ECDC4',
                    tension: 0.4,
                    fill: true
                },
                {
                    label: 'å…¬å¸C',
                    data: dataset.data.map(item => item.companyC),
                    backgroundColor: 'rgba(69, 183, 209, 0.3)',
                    borderColor: '#45B7D1',
                    tension: 0.4,
                    fill: true
                }
            ];
            
            return {
                ...commonConfig,
                type: 'line',
                data: { labels, datasets },
                options: {
                    ...commonConfig,
                    scales: {
                        x: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        y: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        }
                    }
                }
            };
        }

        // é›·è¾¾å›¾é…ç½®
        function getRadarChartConfig(dataset, commonConfig) {
            const labels = dataset.data.map(item => item.type);
            const data = dataset.data.map(item => item.score);
            
            return {
                ...commonConfig,
                type: 'radar',
                data: {
                    labels,
                    datasets: [{
                        label: 'èŒä¸šå…´è¶£å¾—åˆ†',
                        data,
                        backgroundColor: 'rgba(78, 205, 196, 0.2)',
                        borderColor: '#4ECDC4',
                        pointBackgroundColor: '#4ECDC4',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#4ECDC4'
                    }]
                },
                options: {
                    ...commonConfig,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255, 255, 255, 0.1)' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            pointLabels: { color: 'white' },
                            ticks: { color: 'white', backdropColor: 'transparent' }
                        }
                    }
                }
            };
        }

        // ç®±å½¢å›¾é…ç½®ï¼ˆç®€åŒ–ç‰ˆï¼Œä½¿ç”¨æŸ±çŠ¶å›¾æ›¿ä»£ï¼‰
        function getBoxChartConfig(dataset, commonConfig) {
            const labels = dataset.data.map(item => item.month);
            const datasets = [
                {
                    label: '2018å¹´å‘ç”µé‡',
                    data: dataset.data.map(item => item.year2018),
                    backgroundColor: 'rgba(255, 107, 107, 0.8)',
                    borderColor: '#FF6B6B',
                    borderWidth: 1
                },
                {
                    label: '2017å¹´å‘ç”µé‡',
                    data: dataset.data.map(item => item.year2017),
                    backgroundColor: 'rgba(78, 205, 196, 0.8)',
                    borderColor: '#4ECDC4',
                    borderWidth: 1
                }
            ];
            
            return {
                ...commonConfig,
                type: 'bar',
                data: { labels, datasets },
                options: {
                    ...commonConfig,
                    scales: {
                        x: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        y: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        }
                    }
                }
            };
        }

        // æ›´æ–°æ•°æ®ä¿¡æ¯
        function updateDataInfo() {
            if (!currentDataset) return;
            const dataCount = currentDataset.data.length;
            document.getElementById('dataInfo').textContent = 
                `å…± ${dataCount} æ¡æ•°æ® | å½“å‰å›¾è¡¨ç±»å‹: ${getChartTypeName(currentChartType)}`;
        }

        // è·å–å›¾è¡¨ç±»å‹ä¸­æ–‡åç§°
        function getChartTypeName(type) {
            const names = {
                line: 'æŠ˜çº¿å›¾',
                bar: 'æŸ±çŠ¶å›¾',
                pie: 'é¥¼å›¾',
                scatter: 'æ•£ç‚¹å›¾',
                area: 'é¢ç§¯å›¾',
                radar: 'é›·è¾¾å›¾',
                box: 'ç®±å½¢å›¾'
            };
            return names[type] || type;
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>