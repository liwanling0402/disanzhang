<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬äºŒç« æ•°æ®å¯è§†åŒ–äº¤äº’å¹³å°</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white; min-height: 100vh; line-height: 1.6;
        }
        .header {
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);
            padding: 30px 0; text-align: center; border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        .header h1 { font-size: 2.8rem; margin-bottom: 10px; background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .header p { font-size: 1.2rem; opacity: 0.9; max-width: 800px; margin: 0 auto; }
        .container { max-width: 1400px; margin: 0 auto; padding: 40px 20px; }
        .controls { background: rgba(255, 255, 255, 0.05); border-radius: 15px; padding: 25px; margin-bottom: 40px; }
        .chart-type-selector { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .chart-btn { background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: white; padding: 15px; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; font-size: 1rem; }
        .chart-btn:hover { background: rgba(255, 255, 255, 0.2); transform: translateY(-2px); }
        .chart-btn.active { background: linear-gradient(45deg, #ff6b6b, #4ecdc4); border-color: transparent; }
        .chart-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(600px, 1fr)); gap: 30px; margin-bottom: 40px; }
        .chart-card { background: rgba(255, 255, 255, 0.05); border-radius: 15px; padding: 25px; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .chart-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3); }
        .chart-title { font-size: 1.4rem; margin-bottom: 20px; color: #4ecdc4; text-align: center; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .chart-container { position: relative; height: 400px; width: 100%; }
        .chart-description { margin-top: 20px; padding: 15px; background: rgba(255, 255, 255, 0.05); border-radius: 10px; font-size: 0.95rem; opacity: 0.9; }
        .data-controls { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px; }
        .control-group { background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 10px; }
        .control-group label { display: block; margin-bottom: 8px; font-weight: 500; }
        .control-group select { width: 100%; padding: 10px; border-radius: 5px; border: 1px solid rgba(255, 255, 255, 0.2); background: rgba(255, 255, 255, 0.1); color: white; }
        .section-title { font-size: 1.8rem; margin: 40px 0 20px 0; color: #ff6b6b; text-align: center; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ç¬¬äºŒç« æ•°æ®å¯è§†åŒ–äº¤äº’å¹³å°</h1>
        <p>åŸºäºMatplotlibçš„10ç§å›¾è¡¨ç±»å‹å®Œæ•´å®ç° - åŒ…å«æŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€é¥¼å›¾ã€æ•£ç‚¹å›¾ã€é¢ç§¯å›¾ã€ç›´æ–¹å›¾ã€ç®±å½¢å›¾ã€é›·è¾¾å›¾ã€è¯¯å·®æ£’å›¾</p>
    </div>

    <div class="container">
        <div class="controls">
            <div class="chart-type-selector">
                <button class="chart-btn active" onclick="showChart('line')">ğŸ“ˆ æŠ˜çº¿å›¾</button>
                <button class="chart-btn" onclick="showChart('bar')">ğŸ“Š æŸ±çŠ¶å›¾</button>
                <button class="chart-btn" onclick="showChart('pie')">ğŸ¥§ é¥¼å›¾</button>
                <button class="chart-btn" onclick="showChart('scatter')">ğŸ”µ æ•£ç‚¹å›¾</button>
                <button class="chart-btn" onclick="showChart('area')">ğŸŸ¦ é¢ç§¯å›¾</button>
                <button class="chart-btn" onclick="showChart('histogram')">ğŸ“‹ ç›´æ–¹å›¾</button>
                <button class="chart-btn" onclick="showChart('box')">ğŸ“¦ ç®±å½¢å›¾</button>
                <button class="chart-btn" onclick="showChart('radar')">ğŸ›°ï¸ é›·è¾¾å›¾</button>
                <button class="chart-btn" onclick="showChart('errorbar')">ğŸ“ è¯¯å·®æ£’å›¾</button>
                <button class="chart-btn" onclick="showChart('all')">ğŸ“Š å…¨éƒ¨å›¾è¡¨</button>
            </div>

            <div class="data-controls">
                <div class="control-group">
                    <label>æ•°æ®é›†é€‰æ‹©:</label>
                    <select id="datasetSelect" onchange="updateCharts()">
                        <option value="temperature">æ°”æ¸©æ•°æ®</option>
                        <option value="gmv">GMVæ•°æ®</option>
                        <option value="logistics">ç‰©æµæ•°æ®</option>
                        <option value="electricity">å‘ç”µé‡æ•°æ®</option>
                    </select>
                </div>
            </div>
        </div>

        <h2 class="section-title">ğŸ“Š å›¾è¡¨å±•ç¤ºåŒº</h2>

        <div class="chart-grid" id="chartContainer">
            <!-- å›¾è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

    <script>
        // ç¬¬äºŒç« çœŸå®æ•°æ®
        const chapter2Data = {
            temperature: {
                labels: ['ç¬¬1å¤©', 'ç¬¬2å¤©', 'ç¬¬3å¤©', 'ç¬¬4å¤©', 'ç¬¬5å¤©', 'ç¬¬6å¤©', 'ç¬¬7å¤©', 'ç¬¬8å¤©', 'ç¬¬9å¤©', 'ç¬¬10å¤©', 'ç¬¬11å¤©', 'ç¬¬12å¤©', 'ç¬¬13å¤©', 'ç¬¬14å¤©', 'ç¬¬15å¤©'],
                datasets: [
                    { label: 'æœ€é«˜æ°”æ¸©', data: [32, 33, 34, 34, 33, 31, 30, 29, 30, 29, 26, 23, 21, 25, 31], color: '#ff6b6b' },
                    { label: 'æœ€ä½æ°”æ¸©', data: [19, 19, 20, 22, 22, 21, 22, 16, 18, 18, 17, 14, 15, 16, 16], color: '#4ecdc4' }
                ]
            },
            gmv: {
                labels: ['2013', '2014', '2015', '2016', '2017', '2018', '2019'],
                datasets: [
                    { label: 'GMV (äº¿å…ƒ)', data: [10770, 16780, 24440, 30920, 37670, 48200, 57270], color: '#45b7d1' }
                ]
            },
            logistics: {
                labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
                datasets: [
                    { label: 'å…¬å¸A', data: [198, 215, 245, 222, 200, 236, 201, 253, 236, 200, 266, 290], color: '#ff6b6b' },
                    { label: 'å…¬å¸B', data: [203, 236, 200, 236, 269, 216, 298, 333, 301, 349, 360, 368], color: '#4ecdc4' },
                    { label: 'å…¬å¸C', data: [185, 205, 226, 199, 238, 200, 250, 209, 246, 219, 253, 288], color: '#45b7d1' }
                ]
            },
            electricity: {
                labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
                datasets: [
                    { label: '2018å¹´', data: [5200, 5254.5, 5283.4, 5107.8, 5443.3, 5550.6, 6400.2, 6404.9, 5483.1, 5330.2, 5543, 6199.9], color: '#ff6b6b' },
                    { label: '2017å¹´', data: [4605.2, 4710.3, 5168.9, 4767.2, 4947, 5203, 6047.4, 5945.5, 5219.6, 5038.1, 5196.3, 5698.6], color: '#4ecdc4' }
                ]
            }
        };

        let currentCharts = [];

        // åˆå§‹åŒ–å›¾è¡¨
        function initCharts() {
            showChart('all');
        }

        // æ˜¾ç¤ºç‰¹å®šç±»å‹çš„å›¾è¡¨
        function showChart(type) {
            document.querySelectorAll('.chart-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            const container = document.getElementById('chartContainer');
            container.innerHTML = '';
            currentCharts = [];

            const datasets = chapter2Data[document.getElementById('datasetSelect').value];

            if (type === 'all' || type === 'line') {
                createLineChart(datasets);
            }
            if (type === 'all' || type === 'bar') {
                createBarChart(datasets);
            }
            if (type === 'all' || type === 'pie') {
                createPieChart();
            }
            if (type === 'all' || type === 'scatter') {
                createScatterChart();
            }
            if (type === 'all' || type === 'area') {
                createAreaChart(datasets);
            }
            if (type === 'all' || type === 'histogram') {
                createHistogramChart();
            }
            if (type === 'all' || type === 'box') {
                createBoxChart();
            }
            if (type === 'all' || type === 'radar') {
                createRadarChart();
            }
            if (type === 'all' || type === 'errorbar') {
                createErrorBarChart();
            }
        }

        // åˆ›å»ºæŠ˜çº¿å›¾ - å®ä¾‹1ï¼šæœªæ¥15å¤©æ°”æ¸©è¶‹åŠ¿
        function createLineChart(datasets) {
            const card = createChartCard('ğŸ“ˆ æŠ˜çº¿å›¾ - æœªæ¥15å¤©æ°”æ¸©è¶‹åŠ¿', 'æ˜¾ç¤ºè¿ç»­æ•°æ®çš„è¶‹åŠ¿å˜åŒ–ï¼Œè§‚å¯Ÿæ—¶é—´åºåˆ—æ•°æ®çš„æ³¢åŠ¨è§„å¾‹');
            const ctx = card.querySelector('canvas').getContext('2d');

            const chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: datasets.labels,
                    datasets: datasets.datasets.map((ds, i) => ({
                        label: ds.label,
                        data: ds.data,
                        borderColor: ds.color,
                        backgroundColor: ds.color + '20',
                        tension: 0.4,
                        fill: true
                    }))
                },
                options: getChartOptions('æŠ˜çº¿å›¾')
            });

            currentCharts.push(chart);
        }

        // åˆ›å»ºæŸ±çŠ¶å›¾ - å®ä¾‹2ï¼šé˜¿é‡Œå·´å·´GMVç»Ÿè®¡
        function createBarChart(datasets) {
            const card = createChartCard('ğŸ“Š æŸ±çŠ¶å›¾ - é˜¿é‡Œå·´å·´GMVç»Ÿè®¡', 'æ¯”è¾ƒä¸åŒç±»åˆ«çš„æ•°å€¼å¤§å°ï¼Œé€‚åˆåˆ†ç±»æ•°æ®çš„å¯¹æ¯”åˆ†æ');
            const ctx = card.querySelector('canvas').getContext('2d');

            const chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: datasets.labels,
                    datasets: datasets.datasets.map((ds, i) => ({
                        label: ds.label,
                        data: ds.data,
                        backgroundColor: ds.color,
                        borderColor: ds.color,
                        borderWidth: 1
                    }))
                },
                options: getChartOptions('æŸ±çŠ¶å›¾')
            });

            currentCharts.push(chart);
        }

        // åˆ›å»ºé¥¼å›¾ - å®ä¾‹6ï¼šæ”¯ä»˜å®æœˆè´¦å•
        function createPieChart() {
            const card = createChartCard('ğŸ¥§ é¥¼å›¾ - æ”¯ä»˜å®æœˆè´¦å•', 'æ˜¾ç¤ºå„éƒ¨åˆ†å æ•´ä½“çš„æ¯”ä¾‹å…³ç³»ï¼Œé€‚åˆå±•ç¤ºæ„æˆæ¯”ä¾‹');
            const ctx = card.querySelector('canvas').getContext('2d');

            const chart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: ['è´­ç‰©', 'äººæƒ…å¾€æ¥', 'é¤é¥®ç¾é£Ÿ', 'é€šä¿¡ç‰©æµ', 'ç”Ÿæ´»æ—¥ç”¨', 'äº¤é€šå‡ºè¡Œ', 'ä¼‘é—²å¨±ä¹', 'å…¶ä»–'],
                    datasets: [{
                        data: [800, 100, 1000, 200, 300, 200, 200, 200],
                        backgroundColor: ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3', '#54a0ff', '#5f27cd']
                    }]
                },
                options: getChartOptions('é¥¼å›¾')
            });

            currentCharts.push(chart);
        }

        // åˆ›å»ºæ•£ç‚¹å›¾ - å®ä¾‹7ï¼šæ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»
        function createScatterChart() {
            const card = createChartCard('ğŸ”µ æ•£ç‚¹å›¾ - æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»', 'æ˜¾ç¤ºä¸¤ä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œé€‚åˆç›¸å…³æ€§åˆ†æ');
            const ctx = card.querySelector('canvas').getContext('2d');

            const chart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'åˆ¶åŠ¨è·ç¦»',
                        data: [
                            {x: 10, y: 0.5}, {x: 20, y: 2.0}, {x: 30, y: 4.4}, {x: 40, y: 7.9},
                            {x: 50, y: 12.3}, {x: 60, y: 17.7}, {x: 70, y: 24.1}, {x: 80, y: 31.5},
                            {x: 90, y: 39.9}, {x: 100, y: 49.2}, {x: 110, y: 59.5}, {x: 120, y: 70.8},
                            {x: 130, y: 83.1}, {x: 140, y: 96.4}, {x: 150, y: 110.7}, {x: 160, y: 126.0},
                            {x: 170, y: 142.2}, {x: 180, y: 159.4}, {x: 190, y: 177.6}, {x: 200, y: 196.8}
                        ],
                        backgroundColor: '#4ecdc4',
                        pointRadius: 6
                    }]
                },
                options: getChartOptions('æ•£ç‚¹å›¾')
            });

            currentCharts.push(chart);
        }

        // åˆ›å»ºé¢ç§¯å›¾ - å®ä¾‹4ï¼šç‰©æµè´¹ç”¨ç»Ÿè®¡
        function createAreaChart(datasets) {
            const card = createChartCard('ğŸŸ¦ é¢ç§¯å›¾ - ç‰©æµè´¹ç”¨ç»Ÿè®¡', 'å¼ºè°ƒæ•°æ®éšæ—¶é—´å˜åŒ–çš„ç´¯ç§¯æ€»é‡ï¼Œé€‚åˆè¶‹åŠ¿åˆ†æ');
            const ctx = card.querySelector('canvas').getContext('2d');

            const chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: datasets.labels,
                    datasets: datasets.datasets.map((ds, i) => ({
                        label: ds.label,
                        data: ds.data,
                        backgroundColor: ds.color + '40',
                        borderColor: ds.color,
                        fill: true,
                        tension: 0.4
                    }))
                },
                options: getChartOptions('é¢ç§¯å›¾')
            });

            currentCharts.push(chart);
        }

        // åˆ›å»ºç›´æ–¹å›¾ - å®ä¾‹5ï¼šäººè„¸è¯†åˆ«ç°åº¦åˆ†å¸ƒ
        function createHistogramChart() {
            const card = createChartCard('ğŸ“‹ ç›´æ–¹å›¾ - äººè„¸è¯†åˆ«ç°åº¦åˆ†å¸ƒ', 'æ˜¾ç¤ºæ•°æ®åˆ†å¸ƒé¢‘ç‡ï¼Œé€‚åˆåˆ†ææ•°æ®åˆ†å¸ƒç‰¹å¾');
            const ctx = card.querySelector('canvas').getContext('2d');

            // æ¨¡æ‹Ÿç°åº¦åˆ†å¸ƒæ•°æ®
            const randomData = Array.from({length: 1000}, () => Math.random() * 100);

            const chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['0-10', '10-20', '20-30', '30-40', '40-50', '50-60', '60-70', '70-80', '80-90', '90-100'],
                    datasets: [{
                        label: 'åƒç´ é¢‘ç‡',
                        data: [120, 190, 300, 500, 200, 300, 450, 320, 180, 90],
                        backgroundColor: '#ff9ff3'
                    }]
                },
                options: getChartOptions('ç›´æ–¹å›¾')
            });

            currentCharts.push(chart);
        }

        // åˆ›å»ºç®±å½¢å›¾ - å®ä¾‹8ï¼šå…¨å›½å‘ç”µé‡ç»Ÿè®¡
        function createBoxChart() {
            const card = createChartCard('ğŸ“¦ ç®±å½¢å›¾ - å…¨å›½å‘ç”µé‡ç»Ÿè®¡', 'æ˜¾ç¤ºæ•°æ®åˆ†å¸ƒçš„äº”æ•°æ¦‚æ‹¬ï¼Œé€‚åˆå¼‚å¸¸å€¼æ£€æµ‹å’Œåˆ†å¸ƒæ¯”è¾ƒ');
            const ctx = card.querySelector('canvas').getContext('2d');

            const chart = new Chart(ctx, {
                type: 'boxplot',
                data: {
                    labels: ['2018å¹´', '2017å¹´'],
                    datasets: [{
                        label: 'æœˆåº¦å‘ç”µé‡',
                        data: [
                            [4600, 4800, 5200, 5400, 5600, 5800, 6000, 6200, 6400],
                            [4500, 4700, 5000, 5200, 5400, 5600, 5800, 6000, 6200]
                        ],
                        backgroundColor: 'rgba(255, 107, 107, 0.5)',
                        borderColor: '#ff6b6b'
                    }]
                },
                options: getChartOptions('ç®±å½¢å›¾')
            });

            currentCharts.push(chart);
        }

        // åˆ›å»ºé›·è¾¾å›¾ - å®ä¾‹9ï¼šéœå…°å¾·èŒä¸šå…´è¶£æµ‹è¯•
        function createRadarChart() {
            const card = createChartCard('ğŸ›°ï¸ é›·è¾¾å›¾ - éœå…°å¾·èŒä¸šå…´è¶£æµ‹è¯•', 'å¤šç»´æ•°æ®å¯¹æ¯”åˆ†æï¼Œé€‚åˆå±•ç¤ºå¤šä¸ªç»´åº¦çš„ç»¼åˆè¡¨ç°');
            const ctx = card.querySelector('canvas').getContext('2d');

            const chart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['ç ”ç©¶å‹(I)', 'è‰ºæœ¯å‹(A)', 'ç¤¾ä¼šå‹(S)', 'ä¼ä¸šå‹(E)', 'ä¼ ç»Ÿå‹(C)', 'ç°å®å‹(R)'],
                    datasets: [{
                        label: 'å…´è¶£å¾—åˆ†',
                        data: [0.85, 0.35, 0.30, 0.40, 0.40, 0.30],
                        backgroundColor: 'rgba(255, 107, 107, 0.2)',
                        borderColor: '#ff6b6b',
                        pointBackgroundColor: '#ff6b6b'
                    }]
                },
                options: getChartOptions('é›·è¾¾å›¾')
            });

            currentCharts.push(chart);
        }

        // åˆ›å»ºè¯¯å·®æ£’å›¾ - å®ä¾‹10ï¼šç»†æ ¹ç”Ÿç‰©é‡æµ‹é‡
        function createErrorBarChart() {
            const card = createChartCard('ğŸ“ è¯¯å·®æ£’å›¾ - ç»†æ ¹ç”Ÿç‰©é‡æµ‹é‡', 'æ˜¾ç¤ºæ•°æ®çš„å˜å¼‚æ€§ï¼Œé€‚åˆç§‘å­¦å®éªŒæ•°æ®åˆ†æ');
            const ctx = card.querySelector('canvas').getContext('2d');

            const chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['æ˜¥å­£', 'å¤å­£', 'ç§‹å­£'],
                    datasets: [{
                        label: 'æ ‘ç§A',
                        data: [2.04, 1.57, 1.63],
                        backgroundColor: 'rgba(255, 107, 107, 0.8)'
                    }, {
                        label: 'æ ‘ç§B',
                        data: [1.69, 1.61, 1.64],
                        backgroundColor: 'rgba(78, 205, 196, 0.8)'
                    }]
                },
                options: {
                    ...getChartOptions('è¯¯å·®æ£’å›¾'),
                    plugins: {
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    }
                }
            });

            currentCharts.push(chart);
        }

        // åˆ›å»ºå›¾è¡¨å¡ç‰‡
        function createChartCard(title, description) {
            const container = document.getElementById('chartContainer');
            const card = document.createElement('div');
            card.className = 'chart-card';
            card.innerHTML = `
                <h3 class="chart-title">${title}</h3>
                <div class="chart-container">
                    <canvas></canvas>
                </div>
                <div class="chart-description">
                    ${description}
                </div>
            `;
            container.appendChild(card);
            return card;
        }

        // è·å–å›¾è¡¨é…ç½®é€‰é¡¹
        function getChartOptions(type) {
            const baseOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: 'white' }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                },
                scales: type !== 'é¥¼å›¾' && type !== 'é›·è¾¾å›¾' ? {
                    x: { ticks: { color: 'white' } },
                    y: { ticks: { color: 'white' } }
                } : {}
            };

            if (type === 'é›·è¾¾å›¾') {
                baseOptions.scales = {
                    r: {
                        angleLines: { color: 'rgba(255, 255, 255, 0.3)' },
                        grid: { color: 'rgba(255, 255, 255, 0.3)' },
                        pointLabels: { color: 'white' },
                        ticks: { color: 'white', backdropColor: 'transparent' }
                    }
                };
            }

            return baseOptions;
        }

        // æ›´æ–°å›¾è¡¨
        function updateCharts() {
            showChart('all');
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initCharts);
    </script>
</body>
</html>